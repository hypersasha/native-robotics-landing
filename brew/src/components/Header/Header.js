import React, {useState, useEffect} from "react";
import './header.less';

export default function Header(props) {

    const [activeTab, setActiveTab] = useState(null);

    useEffect(() => {
        document.addEventListener('scroll', checkScroll);
        checkScroll();
    }, [])

    function navTo(id) {
        if (id !== activeTab || activeTab === 'intro') {
            props.navToSection(id);
            setActiveTab(id);
        }
    }

    function isActiveTab(id) {
        return (id === activeTab ? ' active' : ''); 
    }

    function isScrolledIntoView(elem)
    {
        var docViewTop = window.scrollY;
        var docViewBottom = docViewTop + window.innerHeight;

        var elemTop = document.getElementById(elem).offsetTop;
        var elemBottom = elemTop + document.getElementById(elem).offsetHeight;

        return ((elemBottom <= docViewBottom) && (elemTop >= docViewTop));
    }

    function checkScroll() {
        if (isScrolledIntoView('why-omnipack')) {setActiveTab('why-omnipack')}
        if (isScrolledIntoView('efficient')) {setActiveTab('why-omnipack')}
        if (isScrolledIntoView('smart')) {setActiveTab('why-omnipack')}
        if (isScrolledIntoView('plugplay')) {setActiveTab('why-omnipack')}
        if (isScrolledIntoView('business')) {setActiveTab('business')}
        if (isScrolledIntoView('ur-plus')) {setActiveTab('business')}
        if (isScrolledIntoView('distributors')) {setActiveTab('distributors')}
        if (isScrolledIntoView('form')) {setActiveTab('form')}
    }

    

    return(
        <div className="header">
            <div className="header-container">
                <div className="header-container--logo" onClick={() => {navTo('intro')}}>
                <svg width="164" height="24" viewBox="0 0 164 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M9.11194 9.91304H10.3711C10.5742 9.91304 10.769 9.99618 10.9126 10.1442C11.0562 10.2922 11.1368 10.4929 11.1368 10.7022V12H9.11194V9.91304Z" fill="#303030"/>
                    <path fillRule="evenodd" clipRule="evenodd" d="M5.53221 24V5.58024H13.2483C13.6388 5.58087 14.0131 5.73781 14.2892 6.01668C14.5654 6.29556 14.7208 6.67361 14.7214 7.06799V15.5364H11.2585L14.7167 24H20.2489V3.92719C20.2495 2.88667 19.841 1.88848 19.1132 1.15206C18.3853 0.415636 17.3977 0.00125194 16.3675 0H0V24H5.53221Z" fill="#303030"/>
                    <path d="M42.7909 5.52893V18.7867H40.6324L34.8764 10.1586V18.7867H32.4095V5.52893H34.5681L40.3241 14.157V5.52893H42.7909Z" fill="#303030"/>
                    <path d="M49.1589 9.00121C49.6934 9.00121 50.1867 9.09942 50.639 9.29583C51.0913 9.47821 51.4818 9.73776 51.8108 10.0745C52.1397 10.4112 52.3932 10.811 52.5714 11.274C52.7632 11.7369 52.8592 12.242 52.8592 12.7892V18.7867H51.1118L50.7007 17.8397C50.4814 18.0362 50.2416 18.2115 49.9812 18.3659C49.7482 18.5061 49.4672 18.6324 49.1383 18.7446C48.8094 18.8429 48.4394 18.892 48.0282 18.892C47.0004 18.892 46.2123 18.6394 45.6641 18.1344C45.116 17.6153 44.8419 16.9559 44.8419 16.1562C44.8419 15.6792 44.9309 15.2443 45.1091 14.8515C45.301 14.4446 45.6162 14.1009 46.0547 13.8203C46.4933 13.5257 47.0689 13.3012 47.7815 13.1469C48.5079 12.9786 49.4124 12.8944 50.4951 12.8944C50.4951 12.3613 50.3512 11.9474 50.0634 11.6528C49.7893 11.3582 49.4193 11.2108 48.9533 11.2108C48.6381 11.2108 48.3846 11.267 48.1927 11.3792C48.0145 11.4914 47.8706 11.6107 47.761 11.7369C47.6376 11.8913 47.5554 12.0666 47.5143 12.2631H45.1502C45.205 11.8141 45.3284 11.3932 45.5202 11.0004C45.7258 10.6076 45.9999 10.2639 46.3425 9.96924C46.6852 9.67462 47.0894 9.44314 47.5554 9.27478C48.0351 9.0924 48.5696 9.00121 49.1589 9.00121ZM48.4394 16.998C49.0561 16.998 49.5495 16.8156 49.9195 16.4508C50.3032 16.072 50.4951 15.588 50.4951 14.9988V14.5779C49.7962 14.5779 49.2343 14.613 48.8094 14.6831C48.3846 14.7392 48.0488 14.8304 47.8021 14.9567C47.5691 15.0689 47.4115 15.2092 47.3293 15.3776C47.2471 15.5459 47.2059 15.7353 47.2059 15.9458C47.2059 16.2123 47.3224 16.4579 47.5554 16.6823C47.7884 16.8928 48.083 16.998 48.4394 16.998Z" fill="#303030"/>
                    <path d="M55.8368 6.79157H57.8925V9.10643H59.9482V11.3161H57.8925V15.3145C57.8925 15.7353 58.009 16.072 58.242 16.3246C58.4887 16.5631 58.8176 16.6823 59.2287 16.6823C59.3384 16.6823 59.4274 16.6823 59.496 16.6823C59.5645 16.6683 59.6262 16.6543 59.681 16.6402C59.7358 16.6262 59.7906 16.6052 59.8454 16.5771V18.6815C59.7495 18.7236 59.6399 18.7587 59.5165 18.7867C59.2835 18.8569 59.0163 18.892 58.7148 18.892C58.2488 18.892 57.8171 18.8148 57.4197 18.6605C57.0359 18.4921 56.7002 18.2536 56.4124 17.945C56.1383 17.6363 55.919 17.2716 55.7545 16.8507C55.6038 16.4298 55.5284 15.9528 55.5284 15.4197V11.3161H54.0894V9.31687H54.7061C55.4599 9.31687 55.8368 8.93106 55.8368 8.15945V6.79157Z" fill="#303030"/>
                    <path d="M64.2596 18.7867H61.8955V9.10643H64.2596V18.7867ZM63.129 7.84378C62.7726 7.84378 62.4574 7.7105 62.1833 7.44394C61.9229 7.16335 61.7927 6.84068 61.7927 6.47591C61.7927 6.11115 61.9229 5.79549 62.1833 5.52893C62.4574 5.24834 62.7726 5.10804 63.129 5.10804C63.4853 5.10804 63.7937 5.24834 64.054 5.52893C64.3281 5.79549 64.4652 6.11115 64.4652 6.47591C64.4652 6.84068 64.3281 7.16335 64.054 7.44394C63.7937 7.7105 63.4853 7.84378 63.129 7.84378Z" fill="#303030"/>
                    <path d="M74.9414 9.10643L71.3438 18.7867H69.0825L65.485 9.10643H67.9519L70.2132 15.7985L72.4745 9.10643H74.9414Z" fill="#303030"/>
                    <path d="M84.5976 15.8406C84.4743 16.2053 84.2824 16.5701 84.022 16.9349C83.7753 17.2996 83.467 17.6293 83.097 17.9239C82.7406 18.2045 82.3295 18.436 81.8635 18.6184C81.4113 18.8008 80.9179 18.892 80.3834 18.892C79.7393 18.892 79.1294 18.7657 78.5538 18.5132C77.9919 18.2466 77.4917 17.8889 77.0531 17.4399C76.6283 16.991 76.2857 16.4719 76.0253 15.8826C75.7786 15.2794 75.6552 14.634 75.6552 13.9466C75.6552 13.2591 75.7786 12.6208 76.0253 12.0316C76.2857 11.4283 76.6283 10.9022 77.0531 10.4533C77.4917 10.0043 77.9919 9.65358 78.5538 9.40105C79.1294 9.13449 79.7393 9.00121 80.3834 9.00121C81.0001 9.00121 81.5826 9.12046 82.1308 9.35896C82.679 9.59746 83.1586 9.93417 83.5698 10.3691C83.9809 10.804 84.303 11.3301 84.536 11.9474C84.7827 12.5507 84.906 13.2171 84.906 13.9466C84.906 14.0588 84.8991 14.1711 84.8854 14.2833C84.8717 14.3815 84.858 14.4797 84.8443 14.5779C84.8306 14.6901 84.8169 14.7954 84.8032 14.8936H78.2249C78.3345 15.3706 78.5675 15.7704 78.9238 16.0931C79.2802 16.4158 79.7667 16.5771 80.3834 16.5771C80.6986 16.5771 80.959 16.542 81.1646 16.4719C81.3838 16.4017 81.5689 16.3176 81.7196 16.2194C81.8841 16.1071 82.0211 15.9809 82.1308 15.8406H84.5976ZM80.3834 11.3161C79.7667 11.3161 79.2596 11.4984 78.8622 11.8632C78.4784 12.228 78.2317 12.6769 78.1221 13.21H82.6447C82.5351 12.6769 82.2815 12.228 81.8841 11.8632C81.5003 11.4984 81.0001 11.3161 80.3834 11.3161Z" fill="#303030"/>
                    <path d="M95.7885 13.9466H93.9383V18.7867H91.4715V5.52893H96.6108C97.2275 5.52893 97.7963 5.64116 98.317 5.86563C98.8515 6.07607 99.3106 6.37069 99.6944 6.74949C100.078 7.12828 100.38 7.57021 100.599 8.07527C100.818 8.5663 100.928 9.08539 100.928 9.63253C100.928 10.3761 100.784 10.9934 100.496 11.4844C100.208 11.9754 99.8862 12.3753 99.5299 12.6839C99.1188 13.0487 98.6596 13.3293 98.1526 13.5257L101.236 18.7867H98.4609L95.7885 13.9466ZM93.9383 11.5265H96.6108C97.1316 11.5265 97.5701 11.3511 97.9264 11.0004C98.2828 10.6356 98.4609 10.2148 98.4609 9.73775C98.4609 9.26075 98.2828 8.84689 97.9264 8.49615C97.5701 8.13139 97.1316 7.949 96.6108 7.949H93.9383V11.5265Z" fill="#303030"/>
                    <path d="M104.619 13.9466C104.619 14.7463 104.845 15.3846 105.298 15.8616C105.75 16.3386 106.312 16.5771 106.983 16.5771C107.655 16.5771 108.217 16.3386 108.669 15.8616C109.121 15.3846 109.347 14.7463 109.347 13.9466C109.347 13.1469 109.121 12.5086 108.669 12.0316C108.217 11.5546 107.655 11.3161 106.983 11.3161C106.312 11.3161 105.75 11.5546 105.298 12.0316C104.845 12.5086 104.619 13.1469 104.619 13.9466ZM111.712 13.9466C111.712 14.634 111.581 15.2794 111.321 15.8826C111.074 16.4719 110.732 16.991 110.293 17.4399C109.868 17.8889 109.368 18.2466 108.792 18.5132C108.23 18.7657 107.627 18.892 106.983 18.892C106.339 18.892 105.729 18.7657 105.154 18.5132C104.592 18.2466 104.092 17.8889 103.653 17.4399C103.228 16.991 102.886 16.4719 102.625 15.8826C102.379 15.2794 102.255 14.634 102.255 13.9466C102.255 13.2591 102.379 12.6208 102.625 12.0316C102.886 11.4283 103.228 10.9022 103.653 10.4533C104.092 10.0043 104.592 9.65358 105.154 9.40105C105.729 9.13449 106.339 9.00121 106.983 9.00121C107.627 9.00121 108.23 9.13449 108.792 9.40105C109.368 9.65358 109.868 10.0043 110.293 10.4533C110.732 10.9022 111.074 11.4283 111.321 12.0316C111.581 12.6208 111.712 13.2591 111.712 13.9466Z" fill="#303030"/>
                    <path d="M118.28 18.892C117.869 18.892 117.499 18.8429 117.17 18.7446C116.841 18.6324 116.56 18.5061 116.327 18.3659C116.053 18.2115 115.813 18.0362 115.608 17.8397L115.197 18.7867H113.449V5.52893H115.813V9.9482C116.005 9.77984 116.224 9.62552 116.471 9.48522C116.69 9.37299 116.944 9.26777 117.232 9.16956C117.533 9.05733 117.883 9.00121 118.28 9.00121C118.87 9.00121 119.431 9.12747 119.966 9.38C120.5 9.6185 120.966 9.96223 121.364 10.4112C121.775 10.8461 122.097 11.3652 122.33 11.9684C122.577 12.5717 122.7 13.2311 122.7 13.9466C122.7 14.6621 122.577 15.3215 122.33 15.9247C122.097 16.528 121.775 17.0541 121.364 17.503C120.966 17.938 120.5 18.2817 119.966 18.5342C119.431 18.7727 118.87 18.892 118.28 18.892ZM115.608 13.9466C115.608 14.7463 115.834 15.3846 116.286 15.8616C116.738 16.3386 117.3 16.5771 117.972 16.5771C118.643 16.5771 119.205 16.3386 119.658 15.8616C120.11 15.3846 120.336 14.7463 120.336 13.9466C120.336 13.1469 120.11 12.5086 119.658 12.0316C119.205 11.5546 118.643 11.3161 117.972 11.3161C117.3 11.3161 116.738 11.5546 116.286 12.0316C115.834 12.5086 115.608 13.1469 115.608 13.9466Z" fill="#303030"/>
                    <path d="M126.301 13.9466C126.301 14.7463 126.527 15.3846 126.979 15.8616C127.431 16.3386 127.993 16.5771 128.665 16.5771C129.336 16.5771 129.898 16.3386 130.351 15.8616C130.803 15.3846 131.029 14.7463 131.029 13.9466C131.029 13.1469 130.803 12.5086 130.351 12.0316C129.898 11.5546 129.336 11.3161 128.665 11.3161C127.993 11.3161 127.431 11.5546 126.979 12.0316C126.527 12.5086 126.301 13.1469 126.301 13.9466ZM133.393 13.9466C133.393 14.634 133.263 15.2794 133.002 15.8826C132.756 16.4719 132.413 16.991 131.975 17.4399C131.55 17.8889 131.049 18.2466 130.474 18.5132C129.912 18.7657 129.309 18.892 128.665 18.892C128.021 18.892 127.411 18.7657 126.835 18.5132C126.273 18.2466 125.773 17.8889 125.335 17.4399C124.91 16.991 124.567 16.4719 124.307 15.8826C124.06 15.2794 123.937 14.634 123.937 13.9466C123.937 13.2591 124.06 12.6208 124.307 12.0316C124.567 11.4283 124.91 10.9022 125.335 10.4533C125.773 10.0043 126.273 9.65358 126.835 9.40105C127.411 9.13449 128.021 9.00121 128.665 9.00121C129.309 9.00121 129.912 9.13449 130.474 9.40105C131.049 9.65358 131.55 10.0043 131.975 10.4533C132.413 10.9022 132.756 11.4283 133.002 12.0316C133.263 12.6208 133.393 13.2591 133.393 13.9466Z" fill="#303030"/>
                    <path d="M136.159 6.79157H138.214V9.10643H140.27V11.3161H138.214V15.3145C138.214 15.7353 138.331 16.072 138.564 16.3246C138.81 16.5631 139.139 16.6823 139.551 16.6823C139.66 16.6823 139.749 16.6823 139.818 16.6823C139.886 16.6683 139.948 16.6543 140.003 16.6402C140.058 16.6262 140.112 16.6052 140.167 16.5771V18.6815C140.071 18.7236 139.962 18.7587 139.838 18.7867C139.605 18.8569 139.338 18.892 139.037 18.892C138.571 18.892 138.139 18.8148 137.741 18.6605C137.358 18.4921 137.022 18.2536 136.734 17.945C136.46 17.6363 136.241 17.2716 136.076 16.8507C135.926 16.4298 135.85 15.9528 135.85 15.4197V11.3161H134.411V9.31687H135.028C135.782 9.31687 136.159 8.93106 136.159 8.15945V6.79157Z" fill="#303030"/>
                    <path d="M144.581 18.7867H142.217V9.10643H144.581V18.7867ZM143.451 7.84378C143.094 7.84378 142.779 7.7105 142.505 7.44394C142.245 7.16335 142.115 6.84068 142.115 6.47591C142.115 6.11115 142.245 5.79549 142.505 5.52893C142.779 5.24834 143.094 5.10804 143.451 5.10804C143.807 5.10804 144.115 5.24834 144.376 5.52893C144.65 5.79549 144.787 6.11115 144.787 6.47591C144.787 6.84068 144.65 7.16335 144.376 7.44394C144.115 7.7105 143.807 7.84378 143.451 7.84378Z" fill="#303030"/>
                    <path d="M155.469 15.2092C155.359 15.6862 155.174 16.1492 154.914 16.5981C154.653 17.0331 154.331 17.4259 153.947 17.7766C153.564 18.1133 153.125 18.3869 152.632 18.5973C152.138 18.7937 151.611 18.892 151.049 18.892C150.405 18.892 149.795 18.7657 149.219 18.5132C148.657 18.2466 148.157 17.8889 147.719 17.4399C147.294 16.991 146.951 16.4719 146.691 15.8826C146.444 15.2794 146.321 14.634 146.321 13.9466C146.321 13.2591 146.444 12.6208 146.691 12.0316C146.951 11.4283 147.294 10.9022 147.719 10.4533C148.157 10.0043 148.657 9.65358 149.219 9.40105C149.795 9.13449 150.405 9.00121 151.049 9.00121C151.611 9.00121 152.138 9.10643 152.632 9.31687C153.125 9.51328 153.564 9.78686 153.947 10.1376C154.331 10.4743 154.653 10.8671 154.914 11.3161C155.174 11.751 155.359 12.2069 155.469 12.6839H153.105C152.995 12.4314 152.844 12.2069 152.652 12.0105C152.488 11.8422 152.276 11.6878 152.015 11.5476C151.755 11.3932 151.433 11.3161 151.049 11.3161C150.377 11.3161 149.816 11.5546 149.363 12.0316C148.911 12.5086 148.685 13.1469 148.685 13.9466C148.685 14.7463 148.911 15.3846 149.363 15.8616C149.816 16.3386 150.377 16.5771 151.049 16.5771C151.433 16.5771 151.755 16.507 152.015 16.3667C152.276 16.2264 152.488 16.072 152.652 15.9037C152.844 15.7073 152.995 15.4758 153.105 15.2092H155.469Z" fill="#303030"/>
                    <path d="M158.861 15.7353C158.916 16.058 159.066 16.3316 159.313 16.5561C159.56 16.7805 159.889 16.8928 160.3 16.8928C160.711 16.8928 161.033 16.7875 161.266 16.5771C161.513 16.3526 161.636 16.1071 161.636 15.8406C161.636 15.6161 161.513 15.4407 161.266 15.3145C161.033 15.1882 160.738 15.076 160.382 14.9777C160.026 14.8655 159.635 14.7533 159.21 14.641C158.799 14.5288 158.415 14.3675 158.059 14.157C157.703 13.9326 157.401 13.652 157.154 13.3153C156.921 12.9645 156.805 12.5086 156.805 11.9474C156.805 11.5546 156.88 11.1828 157.031 10.8321C157.196 10.4673 157.429 10.1516 157.73 9.88506C158.032 9.6185 158.388 9.40806 158.799 9.25374C159.21 9.08539 159.676 9.00121 160.197 9.00121C161.334 9.00121 162.205 9.2818 162.808 9.84298C163.424 10.4042 163.788 11.1056 163.897 11.9474H161.636C161.581 11.7369 161.43 11.5265 161.184 11.3161C160.951 11.1056 160.656 11.0004 160.3 11.0004C159.943 11.0004 159.662 11.0916 159.457 11.274C159.265 11.4564 159.169 11.6808 159.169 11.9474C159.169 12.1719 159.286 12.3472 159.519 12.4735C159.765 12.5998 160.067 12.719 160.423 12.8312C160.779 12.9294 161.163 13.0417 161.574 13.1679C161.999 13.2802 162.39 13.4485 162.746 13.673C163.102 13.8975 163.397 14.1921 163.63 14.5569C163.877 14.9076 164 15.3706 164 15.9458C164 16.3386 163.918 16.7174 163.753 17.0822C163.589 17.4329 163.356 17.7415 163.054 18.0081C162.753 18.2747 162.383 18.4921 161.944 18.6605C161.519 18.8148 161.04 18.892 160.505 18.892C159.272 18.892 158.333 18.6044 157.689 18.0291C157.059 17.4539 156.695 16.6893 156.599 15.7353H158.861Z" fill="#303030"/>
                </svg>

                </div>
                <div className="header-container--menu">
                    <div className={"menu-item" + isActiveTab('why-omnipack')} onClick={() => {navTo('why-omnipack')}}>Why OmniPack</div>
                    <div className={"menu-item" + isActiveTab('business')} onClick={() => {navTo('business')}}>Benefits</div>
                    <div className={"menu-item" + isActiveTab('distributors')} onClick={() => {navTo('distributors')}}>Distributors</div>
                    <div className={"menu-item" + isActiveTab('form')} onClick={() => {navTo('form')}}>Free demo</div>
                    <div className={"menu-item link"}>
                        <a href="/omnifit" target="_blank"></a>
                        <span>OmniFit</span>
                        <div className={'link-icon'}>
                            <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M16 8.5V17.125C16 17.3712 15.9515 17.615 15.8573 17.8425C15.763 18.07 15.6249 18.2767 15.4508 18.4508C15.2767 18.6249 15.07 18.763 14.8425 18.8573C14.615 18.9515 14.3712 19 14.125 19H2.875C2.37772 19 1.90081 18.8025 1.54917 18.4508C1.19754 18.0992 1 17.6223 1 17.125V5.875C1 5.37772 1.19754 4.90081 1.54917 4.54917C1.90081 4.19754 2.37772 4 2.875 4H10.7256M13.75 1H19V6.25M8.5 11.5L18.625 1.375" stroke="#666666" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"/>
                            </svg>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    )
}